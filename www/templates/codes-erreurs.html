<ion-view title="Codes erreurs" >
<!-- <ion-side-menus enable-menu-with-back-views="true"> -->
<div class="bar bar-subheader item-input-inset">
    <label class="item-input-wrapper ">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="search" placeholder="Rechercher" ng-model="query.text" autocorrect="off" >
        
    </label>
    <button ng-if="query.text.length>0" class="button button-clear" ng-click="query.text=''">X</button>
    <!-- <button class="button button-clear" ng-click="search()">Rechercher</button> -->
</div>

    <ion-content class="has-header has-subheader" has-bouncing="true">

        <div class="list wrapping-list">
          
            <a class="item item-thumbnail-left">
               <img src="{{products[id].image}}"/>
               <h2 style="font-size: 6vmin;">{{products[id].name}}</h2>
               <p>{{products[id].type.label}}</p>         
            </a>

            <ion-list>
              <div>
                <span ng-repeat="dys in dysfonctionnements.bycode | filter: query.text">
                <ion-item class="item-stable" ng-click="toggleGroup(dys)" ng-class="{active: isGroupShown(dys)}"> 
                    <i class="icon" ng-class="isGroupShown(dys) ? 'ion-minus' : 'ion-plus'"></i>
                  {{dys.code}}
                </ion-item>
                <a class="item item-icon-right item-accordion" ng-repeat="cause in dys.causes" ng-show="isGroupShown(dys)" ng-click="solutionPopup(dys.diagnostics)">
                  {{cause}}
                  <i class="icon ion-chevron-right"></i>
                </a>
                </span>

              </div>
            </ion-list>
   

        </div>

    </ion-content>

</ion-view>